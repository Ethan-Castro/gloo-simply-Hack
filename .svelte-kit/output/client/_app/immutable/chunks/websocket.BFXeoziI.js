import{w as a}from"./index.BV37eSjI.js";import{g as c}from"./scheduler.Cbr1s69T.js";const r=a([]);function t(e){r.update(s=>[...s,e])}let o;function i(){o||(o=new WebSocket("ws://127.0.0.1:8000/ws"),o.onopen=()=>{console.log("WebSocket connected")},o.onmessage=e=>{console.log("Received message:",e.data),console.log("Data received from server",e.data),console.log(e.data);const s=c(r);console.log("This is the messages array BEFORE messages were received from the server",s),t(e.data),console.log("This s the messages array AFTER the messages were received from the server",s)},o.onerror=e=>{console.error("WebSocket error:",e)},o.onclose=()=>{console.log("WebSocket disconnected")})}function l(e){if(o&&o.readyState===WebSocket.OPEN)try{const s=JSON.stringify(e);o.send(s),t(e)}catch(s){console.log(s)}}export{i,r as m,l as s};
